<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <h:outputStylesheet name="css/bootstrap.min.css" />
        <h:outputStylesheet name="css/mystyles.css"></h:outputStylesheet>
        <title>Facelets Template</title>
        <f:event type="preRenderView" listener="#{usuarioController.VerifySession()}"></f:event>
    </h:head>

    <h:body>

        <div id="top">
            <ui:insert name="top">
            
                <nav class="navbar navbar-dark bg-dark navbar-expand-lg">
                     <h:link class="navbar-brand" value="Venta de Acciones" outcome="/index"></h:link>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                      <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                      <ul class="navbar-nav mr-auto">
                        
                          
                          
                        
                      </ul>
                        <ul class="navbar-nav my-2 my-lg-0">
                            <li>
                                 <h:form class="form-inline my-2 my-lg-0">
                                    <h:inputText class="form-control mr-sm-4" a:placeholder="Buscar" value="#{accionController.search}"> </h:inputText>
                                    <h:commandButton class="btn btn-outline-success my-2 my-sm-0" value="Buscar" action="#{accionController.SearchAccions()}"></h:commandButton>
                                </h:form>
                            </li>
                            <li class="nav-item">
                                
                                <h:outputLabel class="nav-link" value="#{usuarioController.LoggedUser().nombre}"></h:outputLabel>
                            </li>
                            <li class="nav-item " >
                                <h:form>
                                    

                                    <h:commandLink rendered="#{usuarioController.LoggedUser().idTipousuario.descripcion=='Empresa'}" class="nav-link" value="Vender Acciones" action="/accion/Create?faces-redirect=true"> </h:commandLink>
                                    

                                </h:form>
                                
                                
                                
                                
                            </li>
                            <li class="nav-item ">
                                <h:form>
                                    
                                    <h:commandLink class="nav-link" actionListener="#{usuarioController.CloseSession()}" value="Cerrar Sesion" action="/usuario/login?faces-redirect=true"> </h:commandLink>

                                </h:form>
                                
                                
                                
                                
                            </li>
                            
                            
                        </ul>
                      
                    </div>
                </nav>
            
            
            
            </ui:insert>
        </div>
        <div>
           
            <div id="content" class="left_content">
                <ui:insert name="content">Content</ui:insert>
            </div>
        </div>
        <div id="bottom">
            <ui:insert name="bottom">
                
              
                
            </ui:insert>
        </div>

    </h:body>

</html>
